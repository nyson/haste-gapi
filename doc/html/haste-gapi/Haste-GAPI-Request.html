<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Haste.GAPI.Request</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Haste-GAPI-Request.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">haste-gapi-0.1.0.0: Google API bindings for the Haste compiler</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Haste.GAPI.Request</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Promise">Promise</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:RequestM">RequestM</a> a = <a href="#v:Req">Req</a> {<ul class="subs"><li><a href="#v:unR">unR</a> :: CIO (Either Error a)</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Reason">Reason</a> = JSAny</li><li class="src short"><span class="keyword">type</span> <a href="#t:Response">Response</a> = JSAny</li><li class="src short"><span class="keyword">data</span> <a href="#t:Params">Params</a> = <a href="#v:Params">Params</a> [(String, String)]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Request">Request</a> = <a href="#v:Request">Request</a> {<ul class="subs"><li><a href="#v:path">path</a> :: String</li><li><a href="#v:method">method</a> :: String</li><li><a href="#v:params">params</a> :: <a href="Haste-GAPI-Request.html#t:Params">Params</a></li><li><a href="#v:headers">headers</a> :: String</li><li><a href="#v:body">body</a> :: String</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Result">Result</a> = <a href="#v:Result">Result</a> {<ul class="subs"><li><a href="#v:v">v</a> :: JSAny</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Path">Path</a> = String</li><li class="src short"><span class="keyword">class</span> <a href="#t:FromResult">FromResult</a> result <span class="keyword">where</span><ul class="subs"><li><a href="#v:fromResult">fromResult</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> result</li></ul></li><li class="src short"><a href="#v:gapiError">gapiError</a> :: (JSString -&gt; IO ()) -&gt; <a href="Haste-GAPI-Request.html#t:Reason">Reason</a> -&gt; IO ()</li><li class="src short"><a href="#v:rawRequest">rawRequest</a> :: String -&gt; <a href="Haste-GAPI-Request.html#t:Params">Params</a> -&gt; <a href="Haste-GAPI-Request.html#t:Request">Request</a></li><li class="src short"><a href="#v:withRequest">withRequest</a> :: <a href="Haste-GAPI-Request.html#t:Request">Request</a> -&gt; <a href="Haste-GAPI-Request.html#t:Promise">Promise</a> -&gt; IO ()</li><li class="src short"><a href="#v:cRequest">cRequest</a> :: <a href="Haste-GAPI-Request.html#t:Request">Request</a> -&gt; CIO JSAny</li><li class="src short"><a href="#v:req">req</a> :: <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> () -&gt; IO ()</li><li class="src short"><a href="#v:request">request</a> :: <a href="Haste-GAPI-Request.html#t:Path">Path</a> -&gt; <a href="Haste-GAPI-Request.html#t:Params">Params</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> <a href="Haste-GAPI-Request.html#t:Result">Result</a></li><li class="src short"><a href="#v:debugResult">debugResult</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> ()</li><li class="src short"><a href="#v:has">has</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; String -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> Bool</li><li class="src short"><a href="#v:get">get</a> :: FromAny a =&gt; <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; String -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> a</li><li class="src short"><a href="#v:parp">parp</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; [String] -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> <a href="Haste-GAPI-Request.html#t:Params">Params</a></li><li class="src short"><a href="#v:liftIO">liftIO</a> :: MonadIO m =&gt; <span class="keyword">forall</span> a. IO a -&gt; m a</li><li class="src short"><a href="#v:deepGet">deepGet</a> :: FromAny a =&gt; <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; String -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> (Maybe a)</li><li class="src short"><a href="#v:defFromResult">defFromResult</a> :: FromAny a =&gt; <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Promise" class="def">Promise</a></p><div class="subs instances"><p id="control.i:Promise" class="caption collapser" onclick="toggleSection('i:Promise')">Instances</p><div id="section.i:Promise" class="show"><table><tr><td class="src clearfix"><span class="inst-left">ToAny <a href="Haste-GAPI-Request.html#t:Promise">Promise</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:RequestM" class="def">RequestM</a> a</p><div class="doc"><p>Type responsible for executing sensible requests.
 Example: This code will execute a request with a path and a set of
  parameters (params), uses <code>fields</code> for fetching the fields &quot;name&quot; and
  &quot;email&quot; from the first response and creating <code>params'</code> with these
  fields, and uses them as argument to the second call to request.
 <code>
  do response &lt;- request aPath params
     params' &lt;- fields [&quot;name&quot;, &quot;email&quot;] response
     response' &lt;- request aPath' params'
 </code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Req" class="def">Req</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:unR" class="def">unR</a> :: CIO (Either Error a)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:RequestM" class="caption collapser" onclick="toggleSection('i:RequestM')">Instances</p><div id="section.i:RequestM" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Monad <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Functor <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Applicative <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">MonadIO <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">MonadConc <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Reason" class="def">Reason</a> = JSAny</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Response" class="def">Response</a> = JSAny</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Params" class="def">Params</a></p><div class="doc"><p>Parameters for a GAPI request</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Params" class="def">Params</a> [(String, String)]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Params" class="caption collapser" onclick="toggleSection('i:Params')">Instances</p><div id="section.i:Params" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Show <a href="Haste-GAPI-Request.html#t:Params">Params</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">ToAny <a href="Haste-GAPI-Request.html#t:Params">Params</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">FromAny <a href="Haste-GAPI-Request.html#t:Params">Params</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Default <a href="Haste-GAPI-Request.html#t:Params">Params</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Request" class="def">Request</a></p><div class="doc"><p>Request with parameters and everything</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Request" class="def">Request</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:path" class="def">path</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:method" class="def">method</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:params" class="def">params</a> :: <a href="Haste-GAPI-Request.html#t:Params">Params</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:headers" class="def">headers</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:body" class="def">body</a> :: String</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Request" class="caption collapser" onclick="toggleSection('i:Request')">Instances</p><div id="section.i:Request" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Show <a href="Haste-GAPI-Request.html#t:Request">Request</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Default <a href="Haste-GAPI-Request.html#t:Request">Request</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Result" class="def">Result</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Result" class="def">Result</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:v" class="def">v</a> :: JSAny</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Result" class="caption collapser" onclick="toggleSection('i:Result')">Instances</p><div id="section.i:Result" class="show"><table><tr><td class="src clearfix"><span class="inst-left">ToAny <a href="Haste-GAPI-Request.html#t:Result">Result</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">FromAny <a href="Haste-GAPI-Request.html#t:Result">Result</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Path" class="def">Path</a> = String</p><div class="doc"><p>Path for requests</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:FromResult" class="def">FromResult</a> result <span class="keyword">where</span></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:fromResult" class="def">fromResult</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> result</p></div><div class="subs instances"><p id="control.i:FromResult" class="caption collapser" onclick="toggleSection('i:FromResult')">Instances</p><div id="section.i:FromResult" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-GAPI-Request.html#t:FromResult">FromResult</a> Bool</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-GAPI-Request.html#t:FromResult">FromResult</a> Double</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-GAPI-Request.html#t:FromResult">FromResult</a> Int</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-GAPI-Request.html#t:FromResult">FromResult</a> String</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-GAPI-Request.html#t:FromResult">FromResult</a> <a href="Haste-GAPI-GPlus-Person.html#t:Person">Person</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:gapiError" class="def">gapiError</a> :: (JSString -&gt; IO ()) -&gt; <a href="Haste-GAPI-Request.html#t:Reason">Reason</a> -&gt; IO ()</p><div class="doc"><p>Default error handler in promises</p></div></div><div class="top"><p class="src"><a name="v:rawRequest" class="def">rawRequest</a> :: String -&gt; <a href="Haste-GAPI-Request.html#t:Params">Params</a> -&gt; <a href="Haste-GAPI-Request.html#t:Request">Request</a></p><div class="doc"><p>Creates a request by manually entering request path and parameters</p></div></div><div class="top"><p class="src"><a name="v:withRequest" class="def">withRequest</a> :: <a href="Haste-GAPI-Request.html#t:Request">Request</a> -&gt; <a href="Haste-GAPI-Request.html#t:Promise">Promise</a> -&gt; IO ()</p><div class="doc"><p>Applies request and executes the given Promise.</p></div></div><div class="top"><p class="src"><a name="v:cRequest" class="def">cRequest</a> :: <a href="Haste-GAPI-Request.html#t:Request">Request</a> -&gt; CIO JSAny</p><div class="doc"><p>Executes a request, blocking while waiting for the result and then
 return the finished equation</p></div></div><div class="top"><p class="src"><a name="v:req" class="def">req</a> :: <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> () -&gt; IO ()</p><div class="doc"><p>Executes a request</p></div></div><div class="top"><p class="src"><a name="v:request" class="def">request</a> :: <a href="Haste-GAPI-Request.html#t:Path">Path</a> -&gt; <a href="Haste-GAPI-Request.html#t:Params">Params</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> <a href="Haste-GAPI-Request.html#t:Result">Result</a></p><div class="doc"><p>Creates a request</p></div></div><div class="top"><p class="src"><a name="v:debugResult" class="def">debugResult</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> ()</p></div><div class="top"><p class="src"><a name="v:has" class="def">has</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; String -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> Bool</p><div class="doc"><p>Checks whether your result has a certain field</p></div></div><div class="top"><p class="src"><a name="v:get" class="def">get</a> :: FromAny a =&gt; <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; String -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> a</p><div class="doc"><p>Gets a field from a result, on missing field RequestM will fail.</p></div></div><div class="top"><p class="src"><a name="v:parp" class="def">parp</a> :: <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; [String] -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> <a href="Haste-GAPI-Request.html#t:Params">Params</a></p><div class="doc"><p>Maps a couple of keys out to a new set of params</p></div></div><div class="top"><p class="src"><a name="v:liftIO" class="def">liftIO</a> :: MonadIO m =&gt; <span class="keyword">forall</span> a. IO a -&gt; m a</p></div><div class="top"><p class="src"><a name="v:deepGet" class="def">deepGet</a> :: FromAny a =&gt; <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; String -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> (Maybe a)</p><div class="doc"><p>like get, but will look at deeper objects given a <code>.</code> separated string.</p></div></div><div class="top"><p class="src"><a name="v:defFromResult" class="def">defFromResult</a> :: FromAny a =&gt; <a href="Haste-GAPI-Request.html#t:Result">Result</a> -&gt; <a href="Haste-GAPI-Request.html#t:RequestM">RequestM</a> a</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>